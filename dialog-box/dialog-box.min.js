// Simple Dialog Box Plugin by Taufik Nurrohman
// URL: http://www.dte.web.id + https://plus.google.com/108949996304093815163/about
// Licence: none
(function(m,l){var h=new Date().getTime();(function(){var b=l.createElement("div"),a=l.createElement("div");b.className="dialog-box";b.id="dialog-box-"+h;b.innerHTML='<h3 class="dialog-title">&nbsp;</h3><a href="javascript:;" class="dialog-minmax" title="Minimize">&ndash;</a><a href="javascript:;" class="dialog-close" title="Close">&times;</a><div class="dialog-content">&nbsp;</div><div class="dialog-action"></div>';a.className="dialog-box-overlay";l.body.appendChild(b);l.body.appendChild(a)})();var d=false,i=l.getElementById("dialog-box-"+h),e=i.children[0],g=i.children[1],j=i.children[2],n=i.children[3],f=i.children[4],k=i.nextSibling;m.setDialog=function(z,p){var s=null,v=0,u=0,x=0,a=0,q={title:e.innerHTML,content:n.innerHTML,width:300,height:150,top:false,left:false,buttons:{Close:function(){setDialog("close")}},specialClass:"",fixed:true,overlay:false};for(var t in p){q[t]=(typeof(p[t]))?p[t]:q[t]}function y(A){s=A;x=v-s.offsetLeft;a=u-s.offsetTop}function o(A){v=l.all?m.event.clientX:A.pageX;u=l.all?m.event.clientY:A.pageY;if(s!==null){s.style.left=!q.left?((v-x)+s.offsetWidth/2)+"px":((v-x)-q.left)+"px";s.style.top=!q.top?((u-a)+s.offsetHeight/2)+"px":((u-a)-q.top)+"px"}}function w(){s=null}i.className="dialog-box "+(q.fixed?"fixed-dialog-box ":"")+q.specialClass;i.style.visibility=(z=="open")?"visible":"hidden";i.style.opacity=(z=="open")?1:0;i.style.width=q.width+"px";i.style.height=q.height+"px";i.style.top=(!q.top)?"50%":"0px";i.style.left=(!q.left)?"50%":"0px";i.style.marginTop=(!q.top)?"-"+q.height/2+"px":q.top+"px";i.style.marginLeft=(!q.left)?"-"+q.width/2+"px":q.left+"px";e.innerHTML=q.title;n.innerHTML=q.content;f.innerHTML="";k.style.display=(z=="open"&&q.overlay)?"block":"none";if(q.buttons){for(var r in q.buttons){var b=l.createElement("a");b.className="btn";b.href="javascript:;";b.innerHTML=r;b.onclick=q.buttons[r];f.appendChild(b)}}else{f.innerHTML="&nbsp;"}e.onmousedown=function(){y(this.parentNode);return false};g.innerHTML="&ndash;";g.title="Minimize";g.onclick=c;j.onclick=function(){setDialog("close",{content:""})};l.onmousemove=o;l.onmouseup=w;d=(z=="open")?true:false};function c(){if(d){i.className+=" minimize";g.innerHTML="+";g.title=e.innerHTML.replace(/<.*?>/g,"");d=false}else{i.className=i.className.replace(/(^| )minimize($| )/g,"");g.innerHTML="&ndash;";g.title="Minimize";d=true}}})(window,document);